# Postavleno_Bot

Postavleno_Bot –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–º–∞–Ω–¥–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –∑–∞–ø—É—Å–∫—É –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è Wildberries –∏ ¬´–ú–æ–π–°–∫–ª–∞–¥¬ª. –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–º –ø—Ä–æ–¥–∞–≤—Ü–∞: –±–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç —Ç—Ä–∏ –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞, —Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ –±–∞–∑–µ —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —á–µ—Ä–µ–∑ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ Telegram.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–≠—Ç–∏ —à–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ Windows 11 –∏ Python 3.12/3.14.

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
   ```powershell
   py -3.12 -m venv .venv
   .\.venv\Scripts\Activate.ps1
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–æ—Å–Ω–æ–≤–Ω—ã–µ + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞):
   ```powershell
   pip install -r requirements.txt
   pip install -r requirements-dev.txt
   pip install -e .
   ```

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Ä—è–¥–æ–º —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   ```env
   BOT_TOKEN=1234567890:TESTTOKEN
   DATABASE_URL=sqlite+aiosqlite:///./data/app.db
   SECRET_KEY=hF7vP9FwGp55W0uVfZm4sYdYQRP70dNDOEP6joMnKq8=
   ```
   * `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞.
   * `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SQLAlchemy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite –≤ `./data/app.db`).
   * `SECRET_KEY` ‚Äî –∫–ª—é—á Fernet (44 —Å–∏–º–≤–æ–ª–∞ Base64). –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: `python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"`.

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**:
   ```powershell
   python -m postavleno_bot.main
   ```

> üí° –î–ª—è —Å–º–µ–Ω—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–µ–Ω—è–π—Ç–µ `DATABASE_URL`. –ü—Ä–∏–º–µ—Ä—ã:
> * SQLite –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ ‚Äî `sqlite+aiosqlite:///C:/data/postavleno.db`
> * PostgreSQL ‚Äî `postgresql+asyncpg://user:password@localhost:5432/postavleno`

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è¬ª –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —á–µ–∫-–ª–∏—Å—Ç –∏–∑ —Ç—Ä—ë—Ö —à–∞–≥–æ–≤ –∏ –∂–¥—ë—Ç –≤–≤–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ—Ä—è–¥–∫—É:

1. **TG BOT** ‚Äî —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ Telegram (`1234567890:AA...`).
2. **API WB** ‚Äî –∫–ª—é—á Wildberries (32‚Äì128 —Å–∏–º–≤–æ–ª–æ–≤, –ª–∞—Ç–∏–Ω–∏—Ü–∞/—Ü–∏—Ñ—Ä—ã).
3. **API ¬´–ú–æ–π–°–∫–ª–∞–¥¬ª** ‚Äî —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ `Basic base64(user:pass)` –∏–ª–∏ –∫–ª—é—á –∏–∑ 8‚Äì128 —Å–∏–º–≤–æ–ª–æ–≤.

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ —Å—Ç—Ä–æ–∫–∞ —á–µ–∫-–ª–∏—Å—Ç–∞ –æ—Ç–º–µ—á–∞–µ—Ç—Å—è ‚úÖ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è. –ö–æ–≥–¥–∞ –≤—Å–µ —Ç—Ä–∏ —à–∞–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –±–æ—Ç –ø–æ–º–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —ç–∫—Ä–∞–Ω –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å.

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –∫–Ω–æ–ø–∫–∞ ¬´üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è¬ª —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –∫–ª—é—á–µ–π –Ω–µ –Ω—É–∂–µ–Ω.

## üë§ –ü—Ä–æ—Ñ–∏–ª—å

–≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å:

* **–ò–º—è –≤ –±–æ—Ç–µ** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ.
* **–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏** ‚Äî –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω—ã.
* **–ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞** ‚Äî TG BOT, WB API, –ú–æ–π–°–∫–ª–∞–¥ API.

–ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–∞—Å–∫–µ –≤–∏–¥–∞ `12345‚Ä¶9f3A`. –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ –º–µ–Ω—å—à–µ 10 —Å–∏–º–≤–æ–ª–æ–≤, –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `***`. –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É ‚Äî –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–µ—Ä–Ω—ë—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –±–æ—Ç–∞:

* –í–µ—Ä—Ö–Ω–∏–π —Ä—è–¥: `‚úèÔ∏è –ò–º—è`, `üè∑Ô∏è –ö–æ–º–ø–∞–Ω–∏—è`.
* –°—Ä–µ–¥–Ω–∏–π —Ä—è–¥: `üîë TG BOT`, `üü£ WB API`, `üè≠ –ú–æ–π–°–∫–ª–∞–¥ API`.
* –ù–∏–∂–Ω–∏–π —Ä—è–¥: `üîÑ –û–±–Ω–æ–≤–∏—Ç—å`, `‚¨ÖÔ∏è –ù–∞–∑–∞–¥`, `üö™ –í—ã–π—Ç–∏`.

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –°–µ–∫—Ä–µ—Ç—ã —à–∏—Ñ—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `cryptography.Fernet` –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
* –ó–Ω–∞—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ª–æ–≥–∞—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: –∂—É—Ä–Ω–∞–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –º–∞—Å–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã (`outcome="ok"/"fail"`).
* –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ `tg_user_id`. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–æ—Ñ–∏–ª—é –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–æ–≥–æ –∂–µ –∞–∫–∫–∞—É–Ω—Ç–∞ Telegram.
* –ü–æ–ª—è `registered_at` –∏ `updated_at` –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## üß∞ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

* –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `ruff`, `black`, `mypy`.
* –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `pytest` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
ruff check src tests
black --check src tests
mypy src
pytest
```

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ

–ú—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç—ã, —Å–≤–µ—Ä–∫–∏ –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ Wildberries –∏ ¬´–ú–æ–π–°–∫–ª–∞–¥¬ª. –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–∏—ë–º—É –∫–ª—é—á–µ–π –¥–æ—Å—Ç—É–ø–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É —Ö—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ—Ñ–∏–ª–µ–π ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–µ–ª–∏–∑–æ–≤.
